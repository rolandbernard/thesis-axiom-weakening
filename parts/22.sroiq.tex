
\subsection{$\mathcal{SROIQ}$ Syntax}

The \emph{vocabulary} $\mathrm{N} = \mathrm{N}_I \cup \mathrm{N}_C \cup \mathrm{N}_R$ of a $\mathcal{SROIQ}$ knowledge base is made up of three disjoint sets:

\begin{itemize}
    \item The set of \emph{individual names} $\mathrm{N}_I$ used to refer to single elements in the domain of discourse.
    \item The set of \emph{concept names} $\mathrm{N}_C$ used to refer to classes that elements of the domain may be a part of.
    \item The set of \emph{role names} $\mathrm{N}_R$ used to refer to binary relations that may hold between the elements of the domain. The set of role names contains the \emph{universal role} $u \in \mathrm{N}_R$.
\end{itemize}

A $\mathcal{SROIQ}$ knowledge base $\mathcal{KB} = \mathcal{A} \cup \mathcal{T} \cup \mathcal{R}$ is the union of an \emph{ABox} $\mathcal{A}$, a \emph{TBox} $\mathcal{T}$, and a regular \emph{RBox} $\mathcal{R}$. The elements of $\mathcal{KB}$ are called axioms.

\subsubsection{RBox}

The RBox $\mathcal{R}$ describes the relationship between different roles in the knowledge base. It consists of two disjoint parts, a role hierarchy $\mathcal{R}_h$ and a set of role assertions $\mathcal{R}_a$.

Given the set of role names $\mathrm{N}_R$, a \emph{role} of the form $r$ or $r^-$ for some role names $r \in \mathrm{N}_R$, where $r^-$ is called the \emph{inverse role}. For convenience in the latter definitions, and to avoid roles like $r^{--}$, we define a function $\mathrm{Inv}$ such that $\mathrm{Inv}(r) = r^-$ and $\mathrm{Inv}(r^-) = r$. We denote the set of all roles as $\mathbf{R} = \mathrm{N}_R \cup \{ \, r^- \mid r \in \mathrm{N}_R \, \}$.

A \emph{role inclusion axiom} (RIA) is a statement of the form $r_1 \circ \cdots \circ r_n \sqsubseteq r$ where $r, r_1, \dots r_n \in \mathbf{R}$ are roles. For the case in which $n = 1$, we obtain a \emph{simple role inclusion}, which has the form $r \sqsubseteq s$ where $s$ and $r$ are role names. A finite set of RIAs is called a \emph{role hierarchy}, denoted $\mathcal{R}_h$.

There is an additional restriction that is placed upon the role hierarchy in a $SROIQ$ knowledge base. The role hierarchy in $SROIQ$ must be regular. A role hierarchy $\mathcal{R}_h$ is \emph{regular} if there exists a strict partial order $\prec$, that is an irreflexive and transitive relation, on the set of roles $\mathbf{R}$, such that $s \prec r \iff s^- \prec r$ for all roles names $r$ and $s$, and all RIA in $\mathcal{R}_h$ are $\prec$-regular. A RIA is defined to be $\prec$\emph{-regular} if it is of one of the following forms:

\begin{itemize}
    \item $r \circ r \sqsubseteq r$,
    \item $\mathrm{Inv}(r) \sqsubseteq r$,
    \item $r \circ s_1 \circ \cdots \circ s_n \sqsubseteq r$,
    \item $s_1 \circ \cdots \circ s_n \circ r \sqsubseteq r$, or
    \item $s_1 \circ \cdots \circ s_n \sqsubseteq r$,
\end{itemize}

such that $r \in \mathrm{N}_R$ is a (non-inverse) role name and $s_i \prec r$ for all $i = 1, \dots, n$.

This condition on the role hierarchy prevents cyclic definitions with role inclusion axioms that include role chains. These types of cyclic definition could otherwise lead to undecidability of the logic.

Roles can be partitioned into two disjoint sets, simple roles and non-simple roles. Intuitively, non-simple roles are those that are implied by the composition of two or more other roles. In order to preserve decidability, $\mathcal{SROIQ}$ requires that in parts of expressions only simple roles are used. We define the set of \emph{non-simple roles} as the smallest set such that:

\begin{itemize}
    \item the universal role $u$ is non-simple,
    \item any role $r$ that appears in a RIA of the form $r_1 \circ \cdots \circ r_n \sqsubseteq r$ where $n > 1$ is non-simple,
    \item any role $r$ that appears in a simple role inclusion $s \sqsubseteq r$ where $s$ is non-simple is itself non-simple, and
    \item if a role $r$ is non-simple, then $\mathrm{Inv}(r)$ is also non-simple.
\end{itemize}

All roles which are not non-simple are \emph{simple roles}. We denote the set of all non-simple roles with $\mathbf{R}^N$ and the set of simple roles with $\mathbf{R}^S = \mathbf{R} \setminus \mathbf{R}^N$.

The set of \emph{role assertions} $\mathcal{R}_a$ is a finite set of statements with the form $\mathrm{Ref}(r)$ (\emph{reflexivity}), $\mathrm{Asy}(s)$ (\emph{asymmetry}), or $\mathrm{Dis}(s_1, s_2)$ (\emph{disjointness}), where $r$ is a (possibly non-simple) role and $s$, $s_1$, and $s_2$ are simple roles in $\mathcal{R}_h$. In \cite{horrocks2006even} the authors define additionally the role assertions $\mathrm{Sym}(r)$ (\emph{symmetry}), $\mathrm{Tra}(r)$ (\emph{transitivity}), and $\mathrm{Irr}(r)$ (\emph{irreflexivity}). These additional assertions can, however, be written using the alternative axioms $r^- \sqsubseteq r$, $r \circ r \sqsubseteq r$, and $\top \sqsubseteq \lnot \exists r . \mathrm{Self}$ respectively.

\subsubsection{TBox}

The TBox $\mathcal{T}$ describes the relationship between different concepts. In $\mathcal{SROIQ}$, the set of \emph{concept expressions} (or simply \emph{concepts}) given an RBox $\mathcal{R}$ is inductively defined as the smallest set such that:

\begin{itemize}
    \item $\top$ and $\bot$ are concepts, respectively called \emph{top concept} and \emph{bottom concept},
    \item all concept names $C \in \mathrm{N}_C$ are concept, called \emph{atomic concepts},
    \item all finite subsets of individual names $\{ \, a_1, \dots, a_n \, \} \subseteq \mathrm{N}_I$ are concepts, called \emph{nominal concepts,}
    \item if $C$ and $D$ are concepts, the $\lnot C$ (\emph{negation}), $C \sqcup D$ (\emph{union}), and $C \sqcap D$ (\emph{intersection}) are also concepts,
    \item if $C$ is a concept and $r \in \mathbf{R}$ a (possible non-simple) role, then $\exists r . C$ (\emph{existential quantification}) and $\forall r . C$ (\emph{universal quantification}) are also concepts, and
    \item if $C$ is a concept, $s \in \mathbf{R}^S$ a simple role and $n \in \mathbb{N}_0$ a non-negative number, then $\exists r . \mathrm{Self}$ (\emph{self restriction}), $\leq n s . C$ (\emph{at-most restriction}), and $\geq n s. C$ (\emph{at-least restriction}) are concepts, the last two may together be referred to as \emph{qualified number restrictions.}
\end{itemize}

Given two concepts $C$ and $D$, a \emph{general concept inclusion axiom} (GCI) \emph{}is a statement of the form $C \sqsubseteq D$. The TBox $\mathcal{T}$ is a finite set of general concept inclusion axioms.

\subsubsection{ABox}

The ABox $\mathcal{A}$ contains statements about single individuals called individual assertions. An \emph{individual assertion} has one of the following forms:

\begin{itemize}
    \item $C(a)$ (\emph{concept assertion}) for some concept $C$ and individual name $a \in \mathrm{N}_I$,
    \item$r(a, b)$ (\emph{role assertion}) or $\lnot r (a, b)$ (\emph{negative role assertion}) for some role $r \in \mathbf{R}$ and individual names $a, b \in \mathrm{N}_I$, or
    \item $a = b$ (\emph{equality}) or $a \not = b$ (\emph{inequality}) for some individual names $a \in \mathrm{N}_I$.
\end{itemize}

An ABox $\mathcal{A}$ is a finite set of individual assertions. In $\mathcal{SROIQ}$ due to the inclusion of nominal concepts, all ABox axioms can be rewritten into TBox axioms.

\subsection{$\mathcal{SROIQ}$ Semantics}

\subsubsection{Interpretations}

The semantics of $\mathcal{SROIQ}$, similar to other description logics, are defined in a model-theoretic way. Therefore, a central notion in that of the interpretations. And \emph{interpretation} $\mathcal{I} = \langle \Delta^\mathcal{I}, \cdot^\mathcal{I} \rangle$ consists of a set $\Delta^\mathcal{I}$ called the \emph{domain} of $\mathcal{I}$, and an \emph{interpretation function} $\cdot^\mathcal{I}$. The interpretation function maps the vocabulary elements as follows:

\begin{itemize}
    \item for each individual name $a \in \mathrm{N}_I$ to an element $a^\mathcal{I} \in \Delta^\mathcal{I}$ in the domain,
    \item for each concept name $C \in \mathrm{N}_C$ to a subset $C^\mathcal{I} \subseteq \Delta^\mathcal{I}$ of the domain, and
    \item for each role name $r \in \mathrm{N}_R$ to a relation $r^\mathcal{I} \subseteq \Delta^\mathcal{I} \times \Delta^\mathcal{I}$ over the domain.
\end{itemize}

An interpretation maps the universal role $u$ to $u^\mathcal{I} = \Delta^\mathcal{I} \times \Delta^\mathcal{I}$.  We extend the interpretation function to operate over inverse roles such that  $\left(r^-\right)^\mathcal{I}$ contains exactly those elements $\langle \delta_1, \delta_2 \rangle$ for which $\langle \delta_2, \delta_1 \rangle$ is contained in $r^\mathcal{I}$, that is  $\left(r^-\right)^\mathcal{I} = \{ \langle \delta_1, \delta_2 \rangle \mid \langle \delta_2, \delta_1 \rangle \in r^\mathcal{I} \}$. Further, we define the extension of the interpretation function to complex concepts inductively as follows:

\begin{itemize}
    \item The top concept is true for every individual in the domain, therefore $\top^\mathcal{I} = \Delta^\mathcal{I}$.
    \item The bottom concept is true for no individual, hence $\bot^\mathcal{I} = \empty$ where $\empty$ represents the empty set.
    \item Nominal concepts contain exactly the specified individuals, that is $\{\, a_1, \dots, a_n \, \}^\mathcal{I} = \{ \, a_1^\mathcal{I}, \dots, a_n^\mathcal{I} \, \}$.
    \item $\lnot C$ yields the complement of the extension of $C$, thus $(\lnot C)^\mathcal{I} = \Delta^\mathcal{I} \setminus C^\mathcal{I}$.
    \item $C \sqcup D$ denotes all individuals that are in either the extension of $C$ or in that of $D$, hence $(C \sqcup D)^\mathcal{I} = C^\mathcal{I} \cup D^\mathcal{I}$.
    \item $C \sqcap D$ on the other hand, denotes all elements of the domain that are in the extension of both $C$ and $D$, which can be expressed as $(C \sqcap D)^\mathcal{I} = C^\mathcal{I} \cap D^\mathcal{I}$.
    \item $\exists r . C$ holds for all individuals that are connected by some element in the extension of $r$ to an individual in the extension of $C$, formally $(\exists r . C)^\mathcal{I} = \{ \, \delta_1 \in \Delta^\mathcal{I} \mid \exists \delta_2 \in \Delta^\mathcal{I} \, . \; \langle \delta_1, \delta_2 \rangle \in r^\mathcal{I} \, \land \, \delta_2 \in C^\mathcal{I} \, \}$.
    \item $\forall r . C$ refers to all domain elements for which all elements in the extension of $r$ connect them to elements in the extension of $C$, that is $(\forall r . C)^\mathcal{I} = \{ \, \delta_1 \in \Delta^\mathcal{I} \mid \forall \delta_2 \in \Delta^\mathcal{I} \, . \; \langle \delta_1, \delta_2 \rangle \in r^\mathcal{I} \to \delta_2 \in C^\mathcal{I} \, \}$.
    \item $\exists r . \mathrm{Self}$ indicates all individuals that the extension of $r$ connects to themselves, hence we let $(\exists r . \mathrm{Self})^\mathcal{I} = \{ \, \delta \in \Delta^\mathcal{I} \mid \langle \delta, \delta \rangle \in r^\mathcal{I} \, \}$.
    \item $\leq n r . C$ represents those individuals that have at most $n$ other individuals they are $r$-related to in the concept extension of $C$, that is  $(\leq n r . C)^\mathcal{I} = \{ \, \delta_1 \in \Delta^\mathcal{I} \mid \left| \{ \, \delta_2 \in \Delta^\mathcal{I} \mid \langle \delta_1, \delta_2 \rangle \in r^\mathcal{I} \, \land \; \delta_2 \in C^\mathcal{I} \, \} \right| \leq n \}$ where $|S|$ denotes the cardinality of a set $S$.
    \item $\geq n r.C$ corollary to the case above indicates those domain elements that have at least $N$ such $r$-related elements, $(\geq n r . C)^\mathcal{I} = \{ \, \delta_1 \in \Delta^\mathcal{I} \mid \left| \{ \, \delta_2 \in \Delta^\mathcal{I} \mid \langle \delta_1, \delta_2 \rangle \in r^\mathcal{I} \, \land \; \delta_2 \in C^\mathcal{I} \, \} \right| \geq n \}$.
\end{itemize}

\subsubsection{Satisfaction of Axioms}

The purpose of the (extended) interpretation function is mainly to determine satisfaction of axioms. We define in the following when an axiom $\alpha$ is true, or holds, in a specific interpretation $\mathcal{I}$. If this is the case, the interpretation $\mathcal{I}$ satisfies $\alpha$, written $\mathcal{I} \vDash \alpha$. If an interpretation $\mathcal{I}$ satisfies an axiom $\alpha$, we also say that $\mathcal{I}$ is a model of $\alpha$.

\begin{itemize}
    \item A role inclusion axiom $s_1 \circ \cdots \circ s_n \sqsubseteq r$ holds in $\mathcal{I}$ if and only if for each sequence $\delta_1, \dots, \delta_{n + 1} \in \Delta^\mathcal{I}$ for which $\langle \delta_i , \delta_{i + 1} \rangle \in s_i^\mathcal{I}$ for all $i = 1, \cdots, n$, also $\langle \delta_1 , \delta_n \rangle \in r^\mathcal{i}$ is satisfied. Equivalently, we can write $\mathcal{I} \vDash s_1 \circ \cdots \circ s_n \sqsubseteq r \iff s_1^\mathcal{I} \circ \cdots \circ s_n^\mathcal{I} \subseteq r^\mathcal{I}$ where $\circ$ denotes the composition of the relations.
    \item A role reflexivity axiom $\mathrm{Ref}(r)$ hold iff for each element of the domain $\delta \in \Delta^\mathcal{I}$ the condition $\langle \delta , \delta \rangle \in r^\mathcal{I}$ is satisfied. In other words, $\mathcal{I} \vDash \mathrm{Ref}(r) \iff \{ \, \langle \delta, \delta \rangle \mid \delta \in \Delta^\mathcal{I} \, \} \subseteq r^\mathcal{I}$.
    \item A role asymmetry axioms $\mathrm{Asy}(r)$ is holds $\mathcal{I} \vDash \mathrm{Asy}(r)$ iff $\langle \delta_1 , \delta_2 \rangle \in r^\mathcal{I}$ implies that $\langle \delta_2, \delta_1 \rangle \not\in r^\mathcal{I}$.
    \item A role disjointness axiom $\mathrm{Dis}(s, r)$ hold iff the extensions of $r$ and $s$ are disjoint, formally $\mathcal{I} \vDash \mathrm{Dis}(s, r) \iff s^\mathrm{I} \cap r^\mathrm{I} = \empty$.
    \item A general concept inclusion axiom $C \sqsubseteq D$ is true iff the extension of $C$ is fully contained in the extension of $D$, hence $\mathcal{I} \vDash C \sqsubseteq D \iff C^\mathcal{I} \subseteq D^\mathcal{I}$.
    \item A concept assertion $C(a)$ holds iff the individual that $a$ is mapped to by $\cdot^\mathcal{I}$ is in the concept extension of $C$, therefore $\mathcal{I} \vDash C (a) \iff a^\mathcal{I} \in C^\mathcal{I}$.
    \item A role assertion $r(a, b)$ holds iff the individuals denoted by the name $a$ and $b$ are connected in the extension of $r$, thus $\mathcal{I} \vDash r (a, b) \iff \langle a^\mathcal{I}, b^\mathcal{I} \rangle \in r^\mathcal{I}$.
    \item A negative role assertion $\lnot r (a, b)$ is true exactly than when the corresponding role assertion $r (a, b)$ is false. Equivalently,  $\mathcal{I} \vDash \lnot r (a, b) \iff \langle a^\mathcal{I}, b^\mathcal{I} \rangle \not\in r^\mathcal{I}$.
    \item An equality assertion $a = b$ holds iff the individuals identified by $a$ and $b$ are the same element of the domain, alternatively written $\mathcal{I} \vDash a = b \iff a^\mathcal{I} = b^\mathcal{I}$.
    \item Dual to the above, $a \not = b$ holds iff the names $a$ and $b$ denote different elements, accordingly $\mathcal{I} \vDash a \not= b \iff a^\mathcal{I} \not= b^\mathcal{I}$.
\end{itemize}

We say a set of axioms holds in an interpretation $\mathcal{I}$ iff every axiom of the set hold in $\mathcal{I}$. Accordingly, $\mathcal{I}$ satisfies a knowledge base $\mathcal{KB}$, written $\mathcal{I} \vDash \mathcal{KB}$, iff $\mathcal{I}$ satisfies every axiom $\alpha \in \mathcal{KB}$ of the knowledgeable, i.e., $\mathcal{I} \vDash \mathcal{KB} \iff \forall \alpha \in \mathcal{KB} \, . \; \mathcal{I} \vDash \alpha$. If $\mathcal{I}$ satisfies $\mathcal{KB}$, we say $\mathcal{I}$ is a model of $\mathcal{KB}$.

\subsubsection{Reasoning tasks}

In general, logic-based knowledge representation is useful for the ability to perform reasoning task on knowledge bases. There are a number of reasoning tasks that can be performed by a reasoner in description logics. In this section, we will take a look at three basic reasoning tasks, and how they can be reduced to each other. While there exists other reasoning task, this section will focus on \emph{knowledge base satisfiability,} \emph{axiom entailment, and concept satisfiability}.

\paragraph{Knowledge base satisfiability}

A knowledge $\mathcal{KB}$ base is satisfiable iff there exists a model $\mathcal{I} \vDash \mathcal{KB}$ for $\mathcal{KB}$. Otherwise, the knowledge base is called unsatisfiable, inconsistent, or contradictory. As discussed in \cref{semantic-defects}, an inconsistent knowledge base can be a sign of modelling errors. An inconsistent knowledge base entailed every statement, and as such all information extracted from it is useless. Therefore, an unsatisfiable knowledge base is generally undesirable. Furthermore, both the task of deciding concept satisfiability and axiom entailment can be reduced to deciding knowledge base consistency.

\paragraph{Axiom entailment}

An axiom $\alpha$ is entailed by $\mathcal{KB}$ if every model $\mathcal{I} \vDash \mathcal{KB}$ of the knowledge base also satisfies the axiom $\mathcal{I} \vDash \alpha$. We also write this as $\mathcal{KB} \vDash \alpha$ and say that $\alpha$ is a consequence of $\mathcal{KB}$. Deciding axiom entailment is an important task in order to derive new information from the collected knowledge.

The problem of axiom entailment can be reduced to determining for the satisfiability of a modified knowledge base. This is achieved by using an axiom $\beta$ that imposes the opposite restriction to $\alpha$, to be more precise, for all interpretations $\mathcal{I} \vDash \alpha \iff \mathcal{I} \not\vDash \beta$. If $\alpha$ is entailed by $\mathcal{KB}$, it must hold in every model of $\mathcal{KB}$, hence $\beta$ must not hold in any model. It follows that the extended knowledge base $\mathcal{KB} \cup \{ \, \beta \, \}$ has no new model, and is therefore unsatisfiable. We can consequently solve the axiom entailment problem by testing for satisfiability of a modified knowledge base, if we can find such an opposing axiom for $\alpha$. For some cases in $\mathcal{SROIQ}$ finding such an opposite is obvious, for others the desired behaviour must be emulated with a set of axioms. \Cref{table:entailment-correspondence} shows the correspondence for every type of $\mathcal{SROIQ}$ axiom.

\begin{table}[h!]
    \centering
    \begin{tabular}{| r | l |} 
        \hline
        $\alpha$ & $B$ \\
        \hline
        $s_1 \circ \cdots \circ s_n \sqsubseteq r$ & $s_1(a_1, a_2)$, $\dots$, $s_n(a_n, a_{n + 1})$, and $\lnot r(a_1, a_{n + 1})$ \\ 
        $\mathrm{Asy}(r)$ & $r(a, b)$ and $r(b, a)$ \\
        $\mathrm{Ref}(r)$ & $\lnot r(a, a)$ \\
        $\mathrm{Dis}(s, r)$ & $s(a, b)$ and $r(a, b)$ \\
        $C \sqsubseteq D$ & $(C \sqcap \lnot D)(a)$ \\
        $C (a)$ & $\lnot C (a)$ \\
        $r (a, b)$ & $\lnot r(a, b)$ \\
        $\lnot r (a, b)$ & $r (a, b)$ \\
        $a = b$ & $a \not= b$ \\
        $a \not= b$ & $a = b$ \\
        \hline
    \end{tabular}
    \caption{The axioms in $B$ together have the “opposite” meaning of those in $\alpha$. This means, checking entailment of $\alpha$ with respect to $\mathcal{KB}$, is equivalent to checking unsatisfiability of $\mathcal{KB} \cup B$.}
    \label{table:entailment-correspondence}
\end{table}

\paragraph{Concept satisfiability}

A concept $C$ is satisfiable with respect to $\mathcal{KB}$ iff there exists a model of the knowledge base $\mathcal{I} \vDash \mathcal{KB}$ such that the extension of $C$ is not empty, i.e., $C^\mathcal{I} \not= \empty$. A concept which is not satisfiable is called unsatisfiable. Clearly, some concepts are unsatisfiable with respect to every knowledge base, for example $\bot$ or $A \sqcap \lnot A$. However, similar to an unsatisfiable knowledge base, an unsatisfiable atomic concept may be an indication of a modelling mistake.

Like axiom entailment, concept satisfiability can be reduced to knowledge base satisfiability. If a concept is unsatisfiable, every model $\mathcal{I} \vDash \mathcal{KB}$ maps the concept to the empty set, that is $C^\mathcal{I} = \empty$. Since the other direction is trivial, we can rewrite this as $C^\mathcal{I} \subseteq \empty$. It follows that since $\bot^\mathcal{I} = \empty$ the every such model satisfies $\mathcal{I} \vDash C \sqsubseteq \bot$, meaning $\mathcal{KB} \vDash C \sqsubseteq \bot$. We conclude that we can test for unsatisfiability of a concept $C$ by checking for entailment of $C \sqsubseteq \bot$.
